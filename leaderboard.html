<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="In search of the next generation of multimodal datasets" />
    <meta name="author" content="Sarah Pratt" />

    <title>DataComp</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="./assets/images/corner.png" type="image/x-icon">

    <!-- Added Libraries -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <!-- StyleSheets -->
    <link rel="stylesheet" href="./assets/css/style.css" />
    <style>
      table .selector{
        border-collapse: collapse;
        width: 100%;
        margin: 50px auto;
        table-layout: fixed;
        text-align: center !important;
      }
      .td-select{
        text-align: center;
        padding: 20px;
        background-color: #dddddd;
        text-align: center;
      }
      .highlighted {
        background-color: #8756D7;
        color: white;
      }
    </style>
    <script>
      function highlightCell(event) {
        const cell = event.target;
        cell.classList.add('highlighted');
      }
    
      function unhighlightOtherCells(clickedCell) {
        const parentTable = clickedCell.closest("table");
        const cells = parentTable.querySelectorAll('td');
        cells.forEach(cell => {
          if (cell !== clickedCell) {
            cell.classList.remove('highlighted');
            cell.classList.remove('clicked');
          }
        });
      }

      function clearTables() {
        const track = document.querySelector('.td-select.clicked.track').id;
        const scale = document.querySelector('.td-select.clicked.scale').id;
        const table_id = track + '--' + scale + '-container';

        const tables = document.querySelectorAll('.leaderboard-tb');
        // Iterate through tables 
        tables.forEach(table => {
          if (table.id !== table_id) {
            table.classList.add('hidden');
          } else {
            table.classList.remove('hidden');
          }
        });
      }
    
      function handleClick(event) {
        const cell = event.target;
        cell.classList.add('highlighted');
        unhighlightOtherCells(cell);
        clearTables();
      }
    
      document.addEventListener('DOMContentLoaded', () => {
        const cells = document.querySelectorAll('td');
        cells.forEach(cell => {
          cell.addEventListener('mouseover', highlightCell);
          cell.addEventListener('mouseout', event => {
            if (!event.target.classList.contains('clicked')) {
              event.target.classList.remove('highlighted');
            }
          });
          cell.addEventListener('click', event => {
            cell.classList.add('clicked');
            handleClick(event);
          });
        });
      });
    </script>
  </head>
  <body>

    <!-- Header Part Start -->
    <!-- Header Part Start -->
    <header class="header">
      <nav class="nav container">
        <a href="https://www.datacomp.ai" class="nav__logo">  DataComp </a>
        <div class="nav__menu">
          <ul class="nav__list">
            <li class="nav__item">
              <a href="./index.html#home" class="nav__link">Home</a>
            </li>
            <li class="nav__item">
              <a href="./index.html#participate" class="nav__link">Participate</a>
            </li>
            <li class="nav__item">
              <a href="./index.html#tracks" class="nav__link">Tracks</a>
            </li>
            <li class="nav__item">
              <a href="./index.html#faqs" class="nav__link">FAQs</a>
            </li>
            <!-- <li class="nav__item">
              <a href="./leaderboard.html#leaderboard" class="nav__link">Leaderboard</a>
            </li> -->
            <li class="nav__item">
              <a href="./workshop.html#first" class="nav__link">Workshop</a>
            </li>
            <li class="nav__item">
              <a href="./people.html#group" class="nav__link">Team</a>
            </li>
          </ul>
        </div>
        <div class="ham__btn">
          <i class="bx bx-grid-alt"></i>
        </div>
        <a href="./leaderboard.html#first" class="btn btn__header">Leaderboard</a>
      </nav>
    </header>
    <!-- Header Part End -->
    <!-- Header Part End -->

    <!-- Main content body start  -->
    <main class="main">
      <!-- Home  -->

      <div class="container" id="first">
        <table id="track-tb" class="selector">
          <tr>
            <td id="filter-track" class="td-select track highlighted clicked" width="50%">Filtering track</td>
            <td id="byod-track" class="td-select track" width="50%">BYOD track</td>
          </tr>
        </table>
        <table if="scale-tb" class="selector">
          <tr>
            <td id="small-scale" class="td-select scale" width="25%">small</td>
            <td id="medium-scale" class="td-select scale" width="25%">medium</td>
            <td id="large-scale" class="td-select scale" width="25%">large</td>
            <td id="xlarge-scale" class="td-select scale highlighted clicked" width="25%">xlarge</td>
          </tr>
        </table>
    </div>
    </div>
      

		<div class="container leaderboard-tb" id="filter-track--xlarge-scale-container" style="padding-top:5rem;">
       <h4 class="leader__title"> Filtering track, xlarge scale </h4>
         <table class="styled-table" id="filter-track--xlarge-scale-tb">
			 <thead style="background-color:#69C39E;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
			 </thead>
			 <tbody id='filter-track--xlarge-scale-tbody'>
			 </body>
		 </table>
		 </div>
         
    <div class="container leaderboard-tb hidden" id="filter-track--large-scale-container" style="padding-top:5rem;">
 		 <h4 class="leader__title"> Filtering track, large scale </h4>
          <table class="styled-table" id="filter-track--large-scale-tb">
 			 <thead style="background-color:#EB725F;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
 			 </thead>
 			 <tbody id='filter-track--large-scale-tbody'>
 			 </body>
 		 </table>
 		 </div>
         
    <div class="container leaderboard-tb hidden" id="filter-track--medium-scale-container" style="padding-top:5rem;">
 		 <h4 class="leader__title"> Filtering track, medium scale </h4>
          <table class="styled-table" id="filter-track--medium-scale-tb">
 			 <thead style="background-color:#5594F5;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
 			 </thead>
 			 <tbody id='filter-track--medium-scale-tbody'>
 			 </body>
 		 </table>
 		 </div>
         
    <div class="container leaderboard-tb hidden" id="filter-track--small-scale-container" style="padding-top:5rem;">
 		 <h4 class="leader__title"> Filtering track, small scale </h4>
          <table class="styled-table" id="filter-track--small-scale-tb">
 			 <thead style="background-color:#EAB14B;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
 			 </thead>
 			 <tbody id='filter-track--small-scale-tbody'>
 			 </body>
 		 </table>
 		 </div>
         
   		<div class="container leaderboard-tb hidden" id="byod-track--xlarge-scale-container" style="padding-top:5rem;">
   		<h4 class="leader__title"> BYOD track, xlarge scale </h4>
            <table class="styled-table" id="filter-byod--xlarge-scale-tb">
   			 <thead style="background-color:#69C39E;">
          <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
   			 </thead>
   			 <tbody id='byod-track--xlarge-scale-tbody'>
   			 </body>
   		 </table>
   		 </div>
            
        <div class="container leaderboard-tb hidden" id="byod-track--large-scale-container" style="padding-top:5rem;">
    		<h4 class="leader__title"> BYOD track, large scale </h4>
             <table class="styled-table" id="filter-byod--large-scale-tb">
    			 <thead style="background-color:#EB725F;">
            <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
    			 </thead>
    			 <tbody id='byod-track--large-scale-tbody'>
    			 </body>
    		 </table>
    		 </div>
            
        <div class="container leaderboard-tb hidden" id="byod-track--medium-scale-container" style="padding-top:5rem;">
    		 <h4 class="leader__title"> BYOD track, medium scale </h4>
             <table class="styled-table" id="filter-byod--medium-scale-tb">
    			 <thead style="background-color:#5594F5;">
            <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
    			 </thead>
    			 <tbody id='byod-track--medium-scale-tbody'>
    			 </body>
    		 </table>
    		 </div>
            
        <div class="container leaderboard-tb hidden" id="byod-track--small-scale-container" style="padding-top:5rem;">
    		 <h4 class="leader__title"> BYOD track, small scale </h4>
             <table class="styled-table" id="filter-byod--small-scale-tb">
    			 <thead style="background-color:#EAB14B;">
            <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
    			 </thead>
    			 <tbody id='byod-track--small-scale-tbody'>
    			 </body>
    		 </table>
    		 </div>
         
         
         <br>
         <br>
         <br>
         <script>

              fetch('data/filter_xlarge.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('filter-track--xlarge-scale-tbody');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('data/filter_large.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('filter-track--large-scale-tbody');
                    csv_string_to_table(data, table_container);
                });

                fetch('data/filter_medium.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('filter-track--medium-scale-tbody');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('data/filter_small.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('filter-track--small-scale-tbody');
                    csv_string_to_table(data, table_container);
                });

                fetch('data/byod_xlarge.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('byod-track--xlarge-scale-tbody');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('data/byod_large.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('byod-track--large-scale-tbody');
                    csv_string_to_table(data, table_container);
                });

                fetch('data/byod_medium.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('byod-track--medium-scale-tbody');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('data/byod_small.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('byod-track--small-scale-tbody');
                    csv_string_to_table(data, table_container);
                });

        function csv_string_to_table(csvData, tableBody) {
            const table = tableBody.parentElement;
            processData(csvData, table);
        }
       
       
        function processData(csvData, table) {
    const tableBody = table.querySelector('tbody');
    const rows = csvData.split('\n');
    const data = rows.map(row => row.split(',')).filter(row => row.length > 1); // Filter out empty rows

    // Sort the data array based on a particular value (column)
    const columnIndexToSortBy = 1; // Change this to the desired column index
    data.sort((a, b) => {
        if (a[columnIndexToSortBy] === undefined || b[columnIndexToSortBy] === undefined) {
            return 0;
        }
        return b[columnIndexToSortBy].localeCompare(a[columnIndexToSortBy]); // Swap a and b for descending order
    });

    populateTable(data, tableBody);
}

function populateTable(data, tableBody) {
    const columnIndexForScientificNotation = 3; // Change this to the desired column index

    data.forEach((rowData, rowIndex) => {
        const row = document.createElement('tr');

        // Add row number at the beginning of each row
        const rowNumberCell = document.createElement('td');
        rowNumberCell.textContent = rowIndex + 1;
        row.appendChild(rowNumberCell);

        rowData.forEach((cellData, cellIndex) => {
            const cell = document.createElement('td');

            // Format the cell data for the specified column index
            if (cellIndex === columnIndexForScientificNotation) {
                const number = parseFloat(cellData);
                cell.textContent = isNaN(number) ? cellData : number.toExponential(2);
            } else {
                cell.textContent = cellData;
            }

            row.appendChild(cell);
        });

        tableBody.appendChild(row);
    });
}

// function populateTable(data, tableBody) {
//     data.forEach((rowData, rowIndex) => {
//         const row = document.createElement('tr');

//         // Add row number at the beginning of each row
//         const rowNumberCell = document.createElement('td');
//         rowNumberCell.textContent = rowIndex + 1;
//         row.appendChild(rowNumberCell);

//         rowData.forEach(cellData => {
//             const cell = document.createElement('td');
//             cell.textContent = cellData;
//             row.appendChild(cell);
//         });

//         tableBody.appendChild(row);
//     });
// }
         
        //  function csv_string_to_table(csv_string, element_to_insert_table) {
        //     var rows = csv_string.trim().split(/\r?\n|\r/); // Regex to split/separate the CSV rows
        //     var table = '';
        //     var table_rows = '';
        //     var table_header = '';
        //     var stdNo = 0;

        //     rows.forEach(function(row, row_index) {
        //        var trow = document.createElement('tr');
        //        var table_columns = '';
        //        var columns = row.split(','); // split/separate the columns in a row
        //        var td1 = document.createElement('td');
        //        td1.innerHTML = ++ stdNo;
        //        trow.appendChild(td1);
        //        columns.forEach(function(column, column_index) {
        //            var td1 = document.createElement('td');
        //            td1.innerHTML = column;
        //            trow.appendChild(td1);
        //        });
        //        element_to_insert_table.appendChild(trow);
        //    });
        //    }
            </script>

    </main>
    <!-- Main content body end  -->

    <!-- Footer start  -->
    <footer class="section" id="footer">
      <div class="footer container grid">

      <!-- <p class="footer__copy">
        &#169; Developed by Shahidul Alam. Designed by Bedimcode. (Inspired)
      </p> -->
    </footer>
    <!-- Footer end  -->

    <!-- Scroll to top button -->
    <a href="#" class="scrollup" id="scroll-up">
      <i class="bx bx-up-arrow-alt scrollup__icon"></i>
    </a>


    <!-- Javascript -->
    <script src="./assets/js/main.js"></script>
  </body>
</html>
