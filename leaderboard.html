<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="In search of the next generation of multimodal datasets" />
    <meta name="author" content="Sarah Pratt" />

    <title>DataComp</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="./assets/images/corner.png" type="image/x-icon">

    <!-- Added Libraries -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <!-- StyleSheets -->
    <link rel="stylesheet" href="./assets/css/style.css" />
    <style>
      table .selector{
        border-collapse: collapse;
        width: 100%;
        margin: 50px auto;
        table-layout: fixed;
        text-align: center !important;
      }
      .td-select{
        text-align: center;
        padding: 20px;
        background-color: #dddddd;
        text-align: center;
      }
      .highlighted {
        background-color: #8756D7;
        color: white;
      }
    </style>
    <script>
      function highlightCell(event) {
        const cell = event.target;
        cell.classList.add('highlighted');
      }
    
      function unhighlightOtherCells(clickedCell) {
        const parentTable = clickedCell.closest("table");
        const cells = parentTable.querySelectorAll('td');
        cells.forEach(cell => {
          if (cell !== clickedCell) {
            cell.classList.remove('highlighted');
            cell.classList.remove('clicked');
          }
        });
      }
    
      function handleClick(event) {
        const cell = event.target;
        cell.classList.add('highlighted');
        unhighlightOtherCells(cell);
      }
    
      document.addEventListener('DOMContentLoaded', () => {
        const cells = document.querySelectorAll('td');
        cells.forEach(cell => {
          cell.addEventListener('mouseover', highlightCell);
          cell.addEventListener('mouseout', event => {
            if (!event.target.classList.contains('clicked')) {
              event.target.classList.remove('highlighted');
            }
          });
          cell.addEventListener('click', event => {
            cell.classList.toggle('clicked');
            handleClick(event);
          });
        });
      });
    </script>
  </head>
  <body>

    <!-- Header Part Start -->
    <!-- Header Part Start -->
    <header class="header">
      <nav class="nav container">
        <a href="https://www.datacomp.ai" class="nav__logo">  DataComp </a>
        <div class="nav__menu">
          <ul class="nav__list">
            <li class="nav__item">
              <a href="./index.html#home" class="nav__link">Home</a>
            </li>
            <li class="nav__item">
              <a href="./index.html#participate" class="nav__link">Participate</a>
            </li>
            <li class="nav__item">
              <a href="./index.html#tracks" class="nav__link">Tracks</a>
            </li>
            <li class="nav__item">
              <a href="./index.html#faqs" class="nav__link">FAQs</a>
            </li>
            <!-- <li class="nav__item">
              <a href="./leaderboard.html#leaderboard" class="nav__link">Leaderboard</a>
            </li> -->
            <li class="nav__item">
              <a href="./workshop.html#first" class="nav__link">Workshop</a>
            </li>
            <li class="nav__item">
              <a href="./people.html#group" class="nav__link">Team</a>
            </li>
          </ul>
        </div>
        <div class="ham__btn">
          <i class="bx bx-grid-alt"></i>
        </div>
        <a href="./leaderboard.html#first" class="btn btn__header">Leaderboard</a>
      </nav>
    </header>
    <!-- Header Part End -->
    <!-- Header Part End -->

    <!-- Main content body start  -->
    <main class="main">
      <!-- Home  -->

      <div class="container" id="first">
        <table id="track-tb" class="selector">
          <tr>
            <td class="td-select highlighted clicked" width="50%">Filtering track</td>
            <td class="td-select" width="50%">BYOD track</td>
          </tr>
        </table>
        <table if="scale-tb" class="selector">
          <tr>
            <td class="td-select" width="25%">small</td>
            <td class="td-select" width="25%">medium</td>
            <td class="td-select" width="25%">large</td>
            <td class="td-select highlighted clicked" width="25%">xlarge</td>
          </tr>
        </table>
    </div>
    </div>
      
      
      <div class="container" id="first">
        <div class="group grid">
            <div class="app__data">
            <h1 class="group__title" align="center" style="padding-top:5rem;"> Track 1: Filtering  </h1>
        </div>
        </div>
    </div>

		<div class="container" id="leaderboard1" style="padding-top:5rem;">
            <a href="./leaderboard.html#leaderboard1"> <h4 class="leader__title"> XLarge - Filtering </h4> </a>
         <table class="styled-table" id="table1">
			 <thead style="background-color:#69C39E;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
			 </thead>
			 <tbody id='tbody1'>
			 </body>
		 </table>
		 </div>
         
         <div class="container" id="leaderboard2" style="padding-top:5rem;">
 		 <a href="./leaderboard.html#leaderboard2"> <h4 class="leader__title"> Large - Filtering </h4> </a>
          <table class="styled-table" id="table2">
 			 <thead style="background-color:#EB725F;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
 			 </thead>
 			 <tbody id='tbody2'>
 			 </body>
 		 </table>
 		 </div>
         
         <div class="container" id="leaderboard3" style="padding-top:5rem;">
 		 <a href="./leaderboard.html#leaderboard3"> <h4 class="leader__title"> Medium - Filtering </h4> </a>
          <table class="styled-table" id="table3">
 			 <thead style="background-color:#5594F5;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
 			 </thead>
 			 <tbody id='tbody3'>
 			 </body>
 		 </table>
 		 </div>
         
         <div class="container" id="leaderboard4" style="padding-top:5rem;">
 		 <a href="./leaderboard.html#leaderboard4"> <h4 class="leader__title"> Small - Filtering </h4> </a>
          <table class="styled-table" id="table4">
 			 <thead style="background-color:#EAB14B;">
        <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
 			 </thead>
 			 <tbody id='tbody4'>
 			 </body>
 		 </table>
 		 </div>
         
         <div class="container" id="leaderboard">
 		 </div>
         
         <div class="container" id="group">
           <div class="group grid">
               <div class="app__data">
               <h1 class="group__title" align="center"> Track 2: Bring Your Own Data </h1>
           </div>
           </div>
       </div>

   		<div class="container" id="leaderboard5" style="padding-top:5rem;">
   		 <a href="./leaderboard.html#leaderboard5"> <h4 class="leader__title"> XLarge - BYOD </h4> </a>
            <table class="styled-table" id="table5">
   			 <thead style="background-color:#69C39E;">
          <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
   			 </thead>
   			 <tbody id='tbody5'>
   			 </body>
   		 </table>
   		 </div>
            
            <div class="container" id="leaderboard6" style="padding-top:5rem;">
    		 <a href="./leaderboard.html#leaderboard6"> <h4 class="leader__title"> Large - BYOD </h4> </a>
             <table class="styled-table" id="table6">
    			 <thead style="background-color:#EB725F;">
            <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
    			 </thead>
    			 <tbody id='tbody6'>
    			 </body>
    		 </table>
    		 </div>
            
            <div class="container" id="leaderboard7" style="padding-top:5rem;">
    		 <a href="./leaderboard.html#leaderboard7"> <h4 class="leader__title"> Medium - BYOD </h4> </a>
             <table class="styled-table" id="table7">
    			 <thead style="background-color:#5594F5;">
            <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
    			 </thead>
    			 <tbody id='tbody7'>
    			 </body>
    		 </table>
    		 </div>
            
            <div class="container" id="leaderboard8" style="padding-top:5rem;">
    		 <a href="./leaderboard.html#leaderboard8"> <h4 class="leader__title"> Small - BYOD </h4> </a>
             <table class="styled-table" id="table8">
    			 <thead style="background-color:#EAB14B;">
            <th width='3%'></th>
        <th width='50%'>Team</th>
        <th>Average <br> Performance</th>
       <th>ImageNet <br> Accuracy</th>
       <th>Dataset <br> Size</th>
       <!-- <th>Checkpoint</th> -->
       <th>Date</th>
    			 </thead>
    			 <tbody id='tbody8'>
    			 </body>
    		 </table>
    		 </div>
         
         <div class="container" id="leaderboard">
 		 </div>
         
         <div class="container" id="leaderboard">
 		 </div>
         
         
         <script>

            // fetchAndPopulateTable('tbody1', 'https://www.xlarge_1.ai/data/xlarge_2.csv');

            // fetch('http://localhost:8000/data/xlarge_1.csv')
            //   .then(function(response) {
            //       return response.text();
            //   })
            //   .then(function(data) {
            //       // Pass the table ID instead of the table element
            //       processData(data, 'table1'); // Replace 'dataTable' with the correct table ID
            //   });

              fetch('https://www.datacomp.ai/data/xlarge_1.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody1');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('https://www.datacomp.ai/data/large_1.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody2');
                    csv_string_to_table(data, table_container);
                });

                fetch('https://www.datacomp.ai/data/medium_1.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody3');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('https://www.datacomp.ai/data/small_1.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody4');
                    csv_string_to_table(data, table_container);
                });

                fetch('https://www.datacomp.ai/data/xlarge_2.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody5');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('https://www.datacomp.ai/data/large_2.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody6');
                    csv_string_to_table(data, table_container);
                });

                fetch('https://www.datacomp.ai/data/medium_1.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody7');
                    csv_string_to_table(data, table_container);
                });
         
                fetch('https://www.datacomp.ai/data/small_1.csv')
                .then(function(response){
                    return response.text();
                })
                .then(function(data){
                    var table_container = document.getElementById('tbody8');
                    csv_string_to_table(data, table_container);
                });
            
            
           
        

        function csv_string_to_table(csvData, tableBody) {
            const table = tableBody.parentElement;
            processData(csvData, table);
        }
       
       
        function processData(csvData, table) {
    const tableBody = table.querySelector('tbody');
    const rows = csvData.split('\n');
    const data = rows.map(row => row.split(',')).filter(row => row.length > 1); // Filter out empty rows

    // Sort the data array based on a particular value (column)
    const columnIndexToSortBy = 1; // Change this to the desired column index
    data.sort((a, b) => {
        if (a[columnIndexToSortBy] === undefined || b[columnIndexToSortBy] === undefined) {
            return 0;
        }
        return b[columnIndexToSortBy].localeCompare(a[columnIndexToSortBy]); // Swap a and b for descending order
    });

    populateTable(data, tableBody);
}

function populateTable(data, tableBody) {
    const columnIndexForScientificNotation = 3; // Change this to the desired column index

    data.forEach((rowData, rowIndex) => {
        const row = document.createElement('tr');

        // Add row number at the beginning of each row
        const rowNumberCell = document.createElement('td');
        rowNumberCell.textContent = rowIndex + 1;
        row.appendChild(rowNumberCell);

        rowData.forEach((cellData, cellIndex) => {
            const cell = document.createElement('td');

            // Format the cell data for the specified column index
            if (cellIndex === columnIndexForScientificNotation) {
                const number = parseFloat(cellData);
                cell.textContent = isNaN(number) ? cellData : number.toExponential(2);
            } else {
                cell.textContent = cellData;
            }

            row.appendChild(cell);
        });

        tableBody.appendChild(row);
    });
}

// function populateTable(data, tableBody) {
//     data.forEach((rowData, rowIndex) => {
//         const row = document.createElement('tr');

//         // Add row number at the beginning of each row
//         const rowNumberCell = document.createElement('td');
//         rowNumberCell.textContent = rowIndex + 1;
//         row.appendChild(rowNumberCell);

//         rowData.forEach(cellData => {
//             const cell = document.createElement('td');
//             cell.textContent = cellData;
//             row.appendChild(cell);
//         });

//         tableBody.appendChild(row);
//     });
// }
         
        //  function csv_string_to_table(csv_string, element_to_insert_table) {
        //     var rows = csv_string.trim().split(/\r?\n|\r/); // Regex to split/separate the CSV rows
        //     var table = '';
        //     var table_rows = '';
        //     var table_header = '';
        //     var stdNo = 0;

        //     rows.forEach(function(row, row_index) {
        //        var trow = document.createElement('tr');
        //        var table_columns = '';
        //        var columns = row.split(','); // split/separate the columns in a row
        //        var td1 = document.createElement('td');
        //        td1.innerHTML = ++ stdNo;
        //        trow.appendChild(td1);
        //        columns.forEach(function(column, column_index) {
        //            var td1 = document.createElement('td');
        //            td1.innerHTML = column;
        //            trow.appendChild(td1);
        //        });
        //        element_to_insert_table.appendChild(trow);
        //    });
        //    }
            </script>

    </main>
    <!-- Main content body end  -->

    <!-- Footer start  -->
    <footer class="section" id="footer">
      <div class="footer container grid">

      <!-- <p class="footer__copy">
        &#169; Developed by Shahidul Alam. Designed by Bedimcode. (Inspired)
      </p> -->
    </footer>
    <!-- Footer end  -->

    <!-- Scroll to top button -->
    <a href="#" class="scrollup" id="scroll-up">
      <i class="bx bx-up-arrow-alt scrollup__icon"></i>
    </a>


    <!-- Javascript -->
    <script src="./assets/js/main.js"></script>
  </body>
</html>
